# Friday Portfolio - 数据准确性原则

> ⚠️ **核心原则**: 所有投资数据必须实时、准确、可追溯。**严禁使用模拟数据、估算值或编造数据。**

---

## 🚫 禁止行为

| 行为 | 说明 | 后果 |
|------|------|------|
| **编造价格** | 使用估算值而非实时市场价 | ❌ 严重违规 |
| **幻觉数据** | AI 自行生成看似合理的假数据 | ❌ 严重违规 |
| **过时数据** | 使用历史数据冒充实时数据 | ❌ 违规 |
| **未经核实** | 未验证数据来源就使用 | ⚠️ 需核实 |

---

## ✅ 强制规范

### 1. 价格数据来源
| 数据类型 | 必须来源 | 备用来源 |
|----------|----------|----------|
| 美股实时价格 | Yahoo Finance API | Alpha Vantage |
| 港股实时价格 | Yahoo Finance API | 港交所官网 |
| 加密货币 | CoinGecko API | CoinMarketCap |
| 外汇汇率 | Open Exchange Rates | Yahoo Finance |
| 财报数据 | Yahoo Finance / 公司IR | SEC EDGAR |

### 2. 数据使用流程
```
需要数据
    ↓
调用 API 获取实时数据
    ↓
记录数据获取时间戳
    ↓
标注数据来源
    ↓
使用数据
    ↓
API 失败？→ 向用户求助，绝不编造
```

### 3. 数据记录要求
每笔交易必须记录：
- ✅ 实时成交价（API 获取）
- ✅ 价格获取时间戳
- ✅ 数据来源（API 名称）
- ✅ 汇率（如果涉及外币）
- ✅ 数据验证状态

---

## 📡 数据获取方案

### 方案1：API 自动获取（首选）
- 使用 Yahoo Finance API（免费，实时）
- 交易执行前自动获取实时价格
- 缓存 5 分钟避免频繁调用

### 方案2：用户协助（API 失败时）
当 API 无法获取数据时：
1. **明确告知用户**数据获取失败
2. **请求用户提供**实时价格
3. **绝不自行编造**任何数据

**示例对话：**
> "我尝试获取 MSFT 实时价格但 API 返回错误。请提供当前 MSFT 的实时价格，或确认是否继续交易。"

### 方案3：第三方数据源
如果用户有：
- Bloomberg Terminal
- Wind/同花顺/iFinD
- 其他付费数据源

可以按用户指示使用，但仍需记录数据来源。

---

## 🔍 数据验证检查清单

执行交易前必须确认：
- [ ] 价格是否为实时获取？
- [ ] 数据来源是否明确？
- [ ] 时间戳是否记录？
- [ ] 是否存在 API 错误？
- [ ] 价格是否在合理范围？（防止 API 返回异常值）

---

## 📝 历史数据修正

**当前问题**：建仓时使用的静态估算价格与市场实际价格严重不符。

**修正方案**：
1. 承认错误：之前使用的是估算值，违反了数据准确性原则
2. 获取真实数据：调用 API 获取 2026-02-09 实际收盘价
3. 更新记录：用真实数据替换估算值
4. 重新计算：基于真实价格计算盈亏

---

## ⚖️ 责任声明

Friday (AI) 承诺：
- 所有投资数据均来自可靠 API 或用户确认
- 绝不编造、估算或产生幻觉数据
- 数据获取失败时主动向用户求助
- 所有数据可追溯、可验证

**违反此原则的交易决策视为无效。**

---

*文档创建时间: 2026-02-09*  
*最后更新: 2026-02-09*
